function countBits(n: number): number[] {
  const dp = new Array(n + 1);

  dp[0] = 0;

  for (let i = 1; i < n + 1; i++) {
    dp[i] = dp[i >> 1] + (i & 1)
  }

  return dp;
};

// n = 16
// 0 = 0, dp = 0
// 1 = 1, dp = 1
// 2 = 10, dp = 1, p = 2
// 3 = 11, dp = 2, p = 2
// 4 = 100, dp = 1, p = 4
// 5 = 101, dp = 2, p = 4
// 6 = 110, dp = 2, p = 4
// 7 = 111, dp = 3, p = 4

// n = 16
// 0 = 0     0
// 1 = 1     1
// 2 = 10    1 <-
// 3 = 11    2
// 4 = 100   1 <-
// 5 = 101   2
// 6 = 110   2
// 7 = 111   3
// 8 = 1000  1 <-
// 9 = 1001  2
// 10 = 1010  2
// 11 = 1011  3
// 12 = 1100  2
// 13 = 1101  3
// 14 = 1110  3
// 15 = 1111  4
// 16 = 10000 1 <-
